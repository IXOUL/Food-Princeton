<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Food @ Princeton · Lucille’s Diet Data Archive</title>

    <!-- External CSS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&family=Zalando+Sans+SemiExpanded:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <!-- Plotly -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

    <!-- D3 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
</head>

<body>

    <nav class="section-nav">
        <a href="#intro-section">Introduction</a>
        <a href="#calendar-section">Meal Calendar</a>
        <a href="#visualization-section">Visualizations</a>
        <a href="#location-section">Location</a>
        <a href="#conclusion-section">Conclusion</a>
    </nav>


    <div class="page-title-wrap">
        <h1 class="page-title">Food @ Princeton</h1>
        <p class="page-subtitle">Lucille Wang · FRS174 · 2025</p>
    </div>
    <div class="anime-strip">
        <div class="anime-track">
            <img src="img/1762672803304915.jpg" alt="">
            <img src="img/IMG_9807.jpg" alt="">
            <img src="img/IMG_9272.jpg" alt="">
            <img src="img/188d5db7dfb0392bf72f04970e9f7d4b.jpg" alt="">
            <img src="img/IMG_0458.jpg" alt="">
            <img src="img/fxn1.jpg" alt="">
            <img src="img/fxn3.jpg" alt="">
            <img src="img/fxn4.jpg" alt="">
            <img src="img/IMG_9282.jpg" alt="">
            <img src="img/IMG_9247.jpg" alt="">
            <img src="img/IMG_9564.jpg" alt="">
            <img src="img/IMG_9734.jpg" alt="">
            <!-- duplicate sequence for seamless scroll -->
            <img src="img/1762672803304915.jpg" alt="">
            <img src="img/IMG_9807.jpg" alt="">
            <img src="img/IMG_9272.jpg" alt="">
            <img src="img/188d5db7dfb0392bf72f04970e9f7d4b.jpg" alt="">
            <img src="img/IMG_0458.jpg" alt="">
            <img src="img/fxn1.jpg" alt="">
            <img src="img/fxn3.jpg" alt="">
            <img src="img/fxn4.jpg" alt="">
            <img src="img/IMG_9282.jpg" alt="">
            <img src="img/IMG_9247.jpg" alt="">
            <img src="img/IMG_9564.jpg" alt="">
            <img src="img/IMG_9734.jpg" alt="">
        </div>
    </div>


    <div class="container title-center" id="intro-section">
        <h2 class="section-title">Introduction</h2>
    </div>
    <p class="text-style">As an international student, one of the most urgent adjustments to studying abroad is the food. While most dishes in the dining hall are edible, they are often not particularly delicious to me. 
        
        So I also began exploring different places to eat around campus. </p>
    <p class="text-style">
        Since my family frequently checks in to see whether I’m living well, I developed the habit of taking a photo of every meal I eat. Over time, I also became curious about my own reactions to these meals, so I started jotting down short notes while reorganizing my data.
    </p>
    <p class="text-style">
        In total, I recorded <span class="stat-highlight">80 meals</span> over <span class="stat-highlight">36 days</span> during my first semester at Princeton, from October 25 to the end of Thanksgiving break on November 30.
    </p>


    <div class="container" id="calendar-section">
        <h2 class="section-title">Meal Calendar</h2>
    </div>
        <p class="text-style">My data was originally stored in a Google spreadsheet. To make the patterns easier to see, I designed a calendar-style modal view for the meals. I divided each day into five time slots: <span class="stat-highlight">morning</span> for breakfast, <span class="stat-highlight">noon</span> for a regular lunch, <span class="stat-highlight">afternoon</span> for a late lunch, <span class="stat-highlight">evening</span> for a regular dinner, and <span class="stat-highlight">night</span> for a late or unusual dinner time.</p>
        <p class="text-style">As the semester went on, though, I realized I rarely had a proper breakfast. On many mornings, I simply grabbed snacks or yogurt before my 9:30 a.m. class. Since these quick snacks didn’t feel like “real meals,” I didn’t photograph them or include them in the dataset.</p>
        <p class="text-style"><span class="stat-highlight">Scroll horizontally</span> to see what I have for each day!</p>
        <p class="text-style"><span class="stat-highlight">Click</span> on any image to view the meal details!</p>
    <div class="container">
        <div id="calendar"></div>
    </div>

    <div class="container title-center" id="visualization-section">
        <h2 class="section-title">Visualizations</h2>
    </div>

    <div class="container viz-section">

        <p class="text-style"> <strong>Satisfaction Over Time</strong></p>

        <p class="text-style">
        From October 26 to November 30 (80 meals over 36 days), I rated every meal on a 
        <span class="stat-highlight">1–10 scale</span>. 
        For each day, I calculated the <span class="stat-highlight">daily average</span> 
        of all the meals I had. I then smoothed the plot to observe the overall trend.
        </p>

        <div id="plot1" class="chart text-style"></div>

        <p class="text-style">
        The trend shows that my <span class="stat-highlight">satisfaction is increasing</span> 
        over time. I think this is because as the semester went on, I stopped worrying about 
        distance and focused more on finding good food, such as checking the dining hall menus 
        for ramen or stir-fry.
        </p>

        <p class="text-style">
        Another factor is that if I’m not hungry, I prefer to skip a meal; but if I am hungry, 
        everything tastes better lol.
        </p>

        <p class="text-style"><strong>Frequency By Location</strong></p>
        <p class="text-style">I also created a pie chart to show how often I visit each place to eat, in total of 17 different locations. In particular, I grouped all the locations in NYC together for convenience (otherwise each one would appear as an outlier).</p>
        <div id="plot2" class="chart text-style"></div>
        <p class="text-style">Notably, <span class="stat-highlight">Rocky Dining Hall</span> accounts for about 1/4 of all my meals. This makes sense. Since I live in Rocky, my dorm is only a one-minute walk from the dining hall, whereas going anywhere else takes at least six minutes. I also usually take a nap at noon, so to save time, I often go straight to Rocky for lunch.</p>
        <p class="text-style">The second-largest portion is <span class="stat-highlight">NYC</span>. The food there is incredibly diverse and delicious. So during my four-day stay in Thanksgiving break, I ate every meal on time and even had snacks and boba every day. I did have the <em>best Thai food</em> <span class="stat-highlight">Mitr Thai</span> and the <em>best boba</em> <span class="stat-highlight">HeyTea Lab</span> ever near Times Square!</p>
        
        <p class="text-style">In the pie chart, the “Others” category includes all places I went to only once. So I’ve separated and listed them individually below.
        </p>

        <div id="location-outliers" class="text-style"></div>

        <p class="text-style"><strong>Meal Frequency</strong></p>
        <div id="plot4" class="chart text-style"></div>
        <div id="plot5" class="chart text-style"></div>
        <p class="chart-note text-style">Meal time percentages are calculated over the total dates.</p>
    </div>

    <div class="container title-center" id="location-section">
        <h2 class="section-title">Location Explorer</h2>
        
    </div>
    <div class="container">
    <p class="text-style">Click any location to revisit what I ate and view my notes.</p>
        <div class="location-panel">
            <div id="location-list" class="location-list"></div>
            <div id="location-feed" class="location-feed">
                <p class="location-placeholder">Select a location from the left to load its photos.</p>
            </div>
        </div>
    </div>

    <div class="container title-center" id="conclusion-section">
        <h2 class="section-title">Conclusion</h2>

    </div>


    <!-- ============================
         MODAL VIEWER
         ============================ -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <img id="modal-img" class="modal-img" />
            <h3 id="modal-title"></h3>
            <p id="modal-text"></p>
        </div>
    </div>

    <script src="calendar.js"></script>
    <script src="locationExplorer.js"></script>
    <script src="plots.js"></script>
    <!-- ============================
         JAVASCRIPT
         ============================ -->
    <script>
        fetch("data.json")
            .then(response => response.json())
            .then(data => {
                const { sortedData } = CalendarModule.prepareEntries(data);

                /* ============================
                   MODAL BINDING
                   ============================ */
                const modal = document.getElementById("modal");

                const openModal = (item) => {
                    document.getElementById("modal-img").src = item.img;
                    const locationTag = (() => {
                        if (item.onCampus === undefined || item.onCampus === null) return "";
                        const val = typeof item.onCampus === "string" ? item.onCampus.toLowerCase() : item.onCampus;
                        if (val === "y" || val === true) return "Campus";
                        if (val === "n" || val === false) return "Restaurant";
                        return "";
                    })();
                    document.getElementById("modal-title").innerText =
                        [item.date, locationTag, item.specificLocation].filter(Boolean).join(" · ");
                    document.getElementById("modal-text").innerText =
                        item.description || item.note || "Too normal to give comment";
                    modal.style.display = "flex";
                };

                modal.onclick = () => modal.style.display = "none";

                CalendarModule.renderCalendar(sortedData, {
                    containerId: "calendar",
                    onCellClick: openModal
                });

                LocationExplorerModule.renderLocations(sortedData);
                DataVizModule.renderPlots(sortedData);
            });
    </script>

</body>
</html>
